<!DOCTYPE html>
<html lang="ar" dir="rtl" id="app-html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="site-title-tag">Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</title>
    
    <link rel="icon" type="image/png" href="https://i.ibb.co/fzPfcMp0/small-logo.png">
    <link rel="apple-touch-icon" href="https://i.ibb.co/fzPfcMp0/small-logo.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ">
    <meta name="theme-color" content="#ffd700">

    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { 
            --bg: #080c14; --card: #1e293b; --accent: #ffd700; --text: #ffffff; 
            --muted: #94a3b8; --blue: #3b82f6; --box-bg: #0f172a; --nav-btn: #ffd700;
        }
        body.light-mode { 
            --bg: #f8fafc; --card: #ffffff; --text: #0f172a; --muted: #475569; 
            --box-bg: #f1f5f9; --accent: #000000; --nav-btn: #000000;
        }
        
        body { background: var(--bg); color: var(--text); font-family: 'IBM Plex Sans Arabic', sans-serif; margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; transition: 0.3s; }
        
        /* Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
        .main-logo { width: 160px; height: auto; margin-top: 30px; margin-bottom: 5px; }
        .site-display-title { color: var(--accent); font-size: 1.8rem; font-weight: bold; margin-bottom: 30px; }

        .controls { position: fixed; top: 15px; left: 15px; display: flex; gap: 8px; z-index: 1000; }
        .btn-tool { background: var(--nav-btn); color: var(--card); border: none; padding: 8px 12px; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 0.8rem; }
        body.light-mode .btn-tool { color: #fff; }

        .card { background: var(--card); border-radius: 20px; padding: 25px; margin-bottom: 15px; width: 100%; max-width: 500px; text-align: center; position: relative; box-shadow: 0 4px 15px rgba(0,0,0,0.1); box-sizing: border-box; }
        .share-btn { position: absolute; top: 15px; left: 15px; background: none; border: 1px solid var(--accent); color: var(--accent); padding: 4px 8px; border-radius: 8px; cursor: pointer; font-size: 0.7rem; font-weight: bold; }
        html[dir="ltr"] .share-btn { left: auto; right: 15px; }

        .event-title { color: var(--accent); font-size: 1.4rem; font-weight: bold; margin-bottom: 5px; }
        .event-date-info { font-size: 0.8rem; color: var(--muted); margin-bottom: 15px; font-weight: bold; }
        
        .timer-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; direction: ltr; }
        .box { background: var(--box-bg); padding: 8px 5px; border-radius: 12px; }
        .num { display: block; font-size: 1.2rem; font-weight: bold; color: var(--accent); }
        .label { font-size: 0.6rem; color: var(--muted); font-weight: bold; }
        
        .verse-container { background: var(--card); padding: 20px; border-radius: 15px; margin-bottom: 30px; border-right: 4px solid var(--accent); width: 100%; max-width: 500px; box-sizing: border-box; }
        html[dir="ltr"] .verse-container { border-right: none; border-left: 4px solid var(--accent); }
        
        .quran-text { font-size: 1.15rem; line-height: 2; color: var(--text); display: block; margin-bottom: 10px; font-weight: 500; text-align: center; }
        .verse-ref { color: var(--accent); font-weight: bold; font-size: 0.85rem; display: block; margin-bottom: 10px; text-align: center; }
        
        .eng-meaning { display: none; background: rgba(0,0,0,0.05); padding: 12px; border-radius: 8px; font-size: 0.85rem; color: var(--muted); line-height: 1.6; border-left: 3px solid var(--blue); margin-top: 10px; direction: ltr; text-align: left; }
        html[lang="en"] .eng-meaning { display: block; }

        .notify-row { margin-top: 15px; display: flex; align-items: center; justify-content: center; gap: 10px; border-top: 1px solid rgba(0,0,0,0.05); padding-top: 12px; }
        .switch { position: relative; width: 34px; height: 20px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; inset: 0; background: #94a3b8; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 14px; width: 14px; left: 3px; bottom: 3px; background: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background: var(--blue); }
        input:checked + .slider:before { transform: translateX(14px); }

        footer { margin-top: auto; padding: 40px 0 20px; text-align: center; width: 100%; max-width: 500px; border-top: 1px solid rgba(148, 163, 184, 0.1); }
        .rights { font-size: 0.8rem; color: var(--muted); margin-bottom: 10px; }
        .dev-link { color: var(--accent); text-decoration: none; font-weight: bold; display: inline-flex; align-items: center; gap: 5px; font-size: 0.9rem; transition: 0.2s; }
    </style>
</head>
<body class="dark-mode">

    <div class="controls">
        <button class="btn-tool" onclick="toggleTheme()">Ù†Ù…Ø·</button>
        <button class="btn-tool" id="lang-btn" onclick="toggleLang()">English</button>
    </div>

    <img src="https://i.ibb.co/DDJWNdj1/main-logo.png" alt="Logo" class="main-logo">
    <h1 class="site-display-title" id="main-title-text">Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</h1>

    <div class="card">
        <button class="share-btn" onclick="shareEvent('ramadan')">Ù…Ø´Ø§Ø±ÙƒØ©</button>
        <div class="event-title" id="t-ramadan">Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ</div>
        <div class="event-date-info" id="d-info1">1 Ø±Ù…Ø¶Ø§Ù† 1447Ù‡Ù€ | 18 ÙØ¨Ø±Ø§ÙŠØ± 2026Ù…</div>
        <div class="timer-grid">
            <div class="box"><span class="num" id="d-ramadan">0</span><span class="label lb-d">ÙŠÙˆÙ…</span></div>
            <div class="box"><span class="num" id="h-ramadan">0</span><span class="label lb-h">Ø³Ø§Ø¹Ø©</span></div>
            <div class="box"><span class="num" id="m-ramadan">0</span><span class="label lb-m">Ø¯Ù‚ÙŠÙ‚Ø©</span></div>
            <div class="box"><span class="num" id="s-ramadan">0</span><span class="label lb-s">Ø«Ø§Ù†ÙŠØ©</span></div>
        </div>
        <div class="notify-row">
            <span class="n-label">ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡</span>
            <label class="switch"><input type="checkbox" id="notif-sw-ramadan" onchange="toggleNotify('ramadan', this)"><span class="slider"></span></label>
        </div>
    </div>

    <div class="card">
        <button class="share-btn" onclick="shareEvent('eid1')">Ù…Ø´Ø§Ø±ÙƒØ©</button>
        <div class="event-title" id="t-eid1">Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø± Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ</div>
        <div class="event-date-info" id="d-info2">1 Ø´ÙˆØ§Ù„ 1447Ù‡Ù€ | 20 Ù…Ø§Ø±Ø³ 2026Ù…</div>
        <div class="timer-grid">
            <div class="box"><span class="num" id="d-eid1">0</span><span class="label lb-d">ÙŠÙˆÙ…</span></div>
            <div class="box"><span class="num" id="h-eid1">0</span><span class="label lb-h">Ø³Ø§Ø¹Ø©</span></div>
            <div class="box"><span class="num" id="m-eid1">0</span><span class="label lb-m">Ø¯Ù‚ÙŠÙ‚Ø©</span></div>
            <div class="box"><span class="num" id="s-eid1">0</span><span class="label lb-s">Ø«Ø§Ù†ÙŠØ©</span></div>
        </div>
        <div class="notify-row">
            <span class="n-label">ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡</span>
            <label class="switch"><input type="checkbox" id="notif-sw-eid1" onchange="toggleNotify('eid1', this)"><span class="slider"></span></label>
        </div>
    </div>
    <div class="verse-container">
        <span class="quran-text" dir="rtl">ï´¿Ø´ÙÙ‡Ù’Ø±Ù Ø±ÙÙ…ÙØ¶ÙØ§Ù†Ù Ø§Ù„Ù‘ÙØ°ÙÙŠ Ø£ÙÙ†Ø²ÙÙ„Ù ÙÙÙŠÙ‡Ù Ø§Ù„Ù’Ù‚ÙØ±Ù’Ø¢Ù†Ù Ù‡ÙØ¯Ù‹Ù‰ Ù„Ù‘ÙÙ„Ù†Ù‘ÙØ§Ø³Ù ÙˆÙØ¨ÙÙŠÙ‘ÙÙ†ÙØ§ØªÙ Ù…Ù‘ÙÙ†Ù Ø§Ù„Ù’Ù‡ÙØ¯ÙÙ‰Ù° ÙˆÙØ§Ù„Ù’ÙÙØ±Ù’Ù‚ÙØ§Ù†Ù Ûš ÙÙÙ…ÙÙ† Ø´ÙÙ‡ÙØ¯Ù Ù…ÙÙ†ÙƒÙÙ…Ù Ø§Ù„Ù’Ø´Ù‘ÙÙ‡Ù’Ø±Ù ÙÙÙ„Ù’ÙŠÙØµÙÙ…Ù’Ù‡Ù Û– ÙˆÙÙ…ÙÙ† ÙƒÙØ§Ù†Ù Ù…ÙØ±ÙÙŠØ¶Ù‹Ø§ Ø£ÙÙˆÙ’ Ø¹ÙÙ„ÙÙ‰Ù° Ø³ÙÙÙØ±Ù ÙÙØ¹ÙØ¯Ù‘ÙØ©ÙŒ Ù…Ù‘ÙÙ†Ù’ Ø£ÙÙŠÙ‘ÙØ§Ù…Ù Ø£ÙØ®ÙØ±Ù Û— ÙŠÙØ±ÙÙŠØ¯Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø¨ÙÙƒÙÙ…Ù Ø§Ù„Ù’ÙŠÙØ³Ù’Ø±Ù ÙˆÙÙ„ÙØ§ ÙŠÙØ±ÙÙŠØ¯Ù Ø¨ÙÙƒÙÙ…Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙˆÙÙ„ÙØªÙÙƒÙ’Ù…ÙÙ„ÙÙˆØ§ Ø§Ù„Ù’Ø¹ÙØ¯Ù‘ÙØ©Ù ÙˆÙÙ„ÙØªÙÙƒÙØ¨Ù‘ÙØ±ÙÙˆØ§ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø¹ÙÙ„ÙÙ‰Ù° Ù…ÙØ§ Ù‡ÙØ¯ÙØ§ÙƒÙÙ…Ù’ ÙˆÙÙ„ÙØ¹ÙÙ„Ù‘ÙÙƒÙÙ…Ù’ ØªÙØ´Ù’ÙƒÙØ±ÙÙˆÙ†Ùï´¾</span>
        <span class="verse-ref" id="ref-185">Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 185</span>
        <div class="eng-meaning"><b>General Meaning:</b><br>Ramadan is the time that God chose for the revelation of the Quran as guidance for humanity. Because this month is so great, God made fasting obligatory for every able-bodied resident. Out of His mercy, He granted permission to the sick and the traveler to break their fast and make it up later. This is so that you may complete the fast of the entire month (29 or 30 days), whether by performing it during Ramadan or by making it up afterward. This is so that you may glorify God in your hearts and with your tongues at the end of the month (which is the origin of the Eid takbirs), thanking Him for enabling you to perform this great act of worship.</div>
    </div>

    <div class="card">
        <button class="share-btn" onclick="shareEvent('hajj')">Ù…Ø´Ø§Ø±ÙƒØ©</button>
        <div class="event-title" id="t-hajj">Ø¹Ø´Ø± Ø°ÙŠ Ø§Ù„Ø­Ø¬Ø©</div>
        <div class="event-date-info" id="d-info3">1 Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø© 1447Ù‡Ù€ | 18 Ù…Ø§ÙŠÙˆ 2026Ù…</div>
        <div class="timer-grid">
            <div class="box"><span class="num" id="d-hajj">0</span><span class="label lb-d">ÙŠÙˆÙ…</span></div>
            <div class="box"><span class="num" id="h-hajj">0</span><span class="label lb-h">Ø³Ø§Ø¹Ø©</span></div>
            <div class="box"><span class="num" id="m-hajj">0</span><span class="label lb-m">Ø¯Ù‚ÙŠÙ‚Ø©</span></div>
            <div class="box"><span class="num" id="s-hajj">0</span><span class="label lb-s">Ø«Ø§Ù†ÙŠØ©</span></div>
        </div>
        <div class="notify-row">
            <span class="n-label">ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡</span>
            <label class="switch"><input type="checkbox" id="notif-sw-hajj" onchange="toggleNotify('hajj', this)"><span class="slider"></span></label>
        </div>
    </div>

    <div class="card">
        <button class="share-btn" onclick="shareEvent('eid2')">Ù…Ø´Ø§Ø±ÙƒØ©</button>
        <div class="event-title" id="t-eid2">Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰ Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ</div>
        <div class="event-date-info" id="d-info4">10 Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø© 1447Ù‡Ù€ | 27 Ù…Ø§ÙŠÙˆ 2026Ù…</div>
        <div class="timer-grid">
            <div class="box"><span class="num" id="d-eid2">0</span><span class="label lb-d">ÙŠÙˆÙ…</span></div>
            <div class="box"><span class="num" id="h-eid2">0</span><span class="label lb-h">Ø³Ø§Ø¹Ø©</span></div>
            <div class="box"><span class="num" id="m-eid2">0</span><span class="label lb-m">Ø¯Ù‚ÙŠÙ‚Ø©</span></div>
            <div class="box"><span class="num" id="s-eid2">0</span><span class="label lb-s">Ø«Ø§Ù†ÙŠØ©</span></div>
        </div>
        <div class="notify-row">
            <span class="n-label">ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡</span>
            <label class="switch"><input type="checkbox" id="notif-sw-eid2" onchange="toggleNotify('eid2', this)"><span class="slider"></span></label>
        </div>
    </div>
    <div class="verse-container">
        <span class="quran-text" dir="rtl">ï´¿Ø§Ù„Ù’Ø­ÙØ¬Ù‘Ù Ø£ÙØ´Ù’Ù‡ÙØ±ÙŒ Ù…Ù‘ÙØ¹Ù’Ù„ÙÙˆÙ…ÙØ§ØªÙŒ Ûš ÙÙÙ…ÙÙ† ÙÙØ±ÙØ¶Ù ÙÙÙŠÙ‡ÙÙ†Ù‘Ù Ø§Ù„Ù’Ø­ÙØ¬Ù‘Ù ÙÙÙ„ÙØ§ Ø±ÙÙÙØ«Ù ÙˆÙÙ„ÙØ§ ÙÙØ³ÙÙˆÙ‚Ù ÙˆÙÙ„ÙØ§ Ø¬ÙØ¯ÙØ§Ù„Ù ÙÙÙŠ Ø§Ù„Ù’Ø­ÙØ¬Ù‘Ù Û— ÙˆÙÙ…ÙØ§ ØªÙÙÙ’Ø¹ÙÙ„ÙÙˆØ§ Ù…ÙÙ†Ù’ Ø®ÙÙŠÙ’Ø±Ù ÙŠÙØ¹Ù’Ù„ÙÙ…Ù’Ù‡Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Û— ÙˆÙØªÙØ²ÙÙˆÙ‘ÙØ¯ÙÙˆØ§ ÙÙØ¥ÙÙ†Ù‘Ù Ø®ÙÙŠÙ’Ø±Ù Ø§Ù„Ø²Ù‘ÙØ§Ø¯Ù Ø§Ù„ØªÙ‘ÙÙ‚Ù’ÙˆÙÙ‰Ù° Ûš ÙˆÙØ§ØªÙ‘ÙÙ‚ÙÙˆÙ†Ù ÙŠÙØ§ Ø£ÙÙˆÙ„ÙÙŠ Ø§Ù„Ù’Ø£ÙÙ„Ù’Ø¨ÙØ§Ø¨Ùï´¾</span>
        <span class="verse-ref" id="ref-197">Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 197</span>
        <div class="eng-meaning"><b>General Meaning:</b><br>This means that the state of ihram for Hajj, and the timing of its rituals, takes place during specific months well-known to Muslims: Shawwal, Dhu al-Qi'dah, and the first ten days of Dhu al-Hijjah. During these months, the intention for Hajj and the wearing of ihram garments are prescribed, and the pilgrim is obligated to abstain from sexual intercourse and its preliminaries, sins, and arguments.</div>
    </div>

    <footer>
        <div class="rights" id="f-rights">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù„Ù…ØªØ¨Ù‚ÙŠ 1447 Ù‡Ù€ - 2026 Ù…</div>
        <a href="https://x.com/sult2009an" target="_blank" class="dev-link">
            <span id="f-dev">Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø·ÙˆØ±</span>
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.045 4.126H5.078z"/></svg>
        </a>
    </footer>

    <script>
        const events = {
            ramadan: { date: "2026-02-18T00:00:00+03:00", name: "Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ", en: "Holy Ramadan", emj: "ğŸŒ’", dua: "Ø§Ù„Ù„Ù‡Ù… Ø¨Ù„ØºÙ†Ø§ Ø±Ù…Ø¶Ø§Ù† ÙˆØ¨Ø§Ø±Ùƒ Ù„Ù†Ø§ ÙÙŠÙ‡", msg: "ØªÙ‡Ù†Ø¦ Ù…Ù†ØµØ© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ø§Ù„Ø£Ù…Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ø¨Ù‚Ø¯ÙˆÙ… Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ ğŸŒ™", dAr: "1 Ø±Ù…Ø¶Ø§Ù† 1447Ù‡Ù€ | 18 ÙØ¨Ø±Ø§ÙŠØ± 2026Ù…", dEn: "Ramadan 1, 1447 | Feb 18, 2026" },
            eid1: { date: "2026-03-20T00:00:00+03:00", name: "Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø± Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ", en: "Eid al-Fitr", emj: "ğŸˆ", dua: "ØªÙ‚Ø¨Ù„ Ø§Ù„Ù„Ù‡ Ù…Ù†Ø§ ÙˆÙ…Ù†ÙƒÙ… ØµØ§Ù„Ø­ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„", msg: "ØªÙ‡Ù†Ø¦ Ù…Ù†ØµØ© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ø§Ù„Ø£Ù…Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ø¨Ù‚Ø¯ÙˆÙ… Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø± Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ âœ¨", dAr: "1 Ø´ÙˆØ§Ù„ 1447Ù‡Ù€ | 20 Ù…Ø§Ø±Ø³ 2026Ù…", dEn: "Shawwal 1, 1447 | March 20, 2026" },
            hajj: { date: "2026-05-18T00:00:00+03:00", name: "Ø¹Ø´Ø± Ø°ÙŠ Ø§Ù„Ø­Ø¬Ø©", en: "10 Days of Dhu al-Hijjah", emj: "ğŸ•‹", dua: "Ù„Ø¨ÙŠÙƒ Ø§Ù„Ù„Ù‡Ù… Ù„Ø¨ÙŠÙƒ", msg: "ØªÙ‡Ù†Ø¦ Ù…Ù†ØµØ© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ø¨Ù‚Ø¯ÙˆÙ… Ø¹Ø´Ø± Ø°ÙŠ Ø§Ù„Ø­Ø¬Ø© Ø§Ù„Ù…Ø¨Ø§Ø±ÙƒØ© ğŸŒŸ", dAr: "1 Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø© 1447Ù‡Ù€ | 18 Ù…Ø§ÙŠÙˆ 2026Ù…", dEn: "Dhu al-Hijjah 1, 1447 | May 18, 2026" },
            eid2: { date: "2026-05-27T00:00:00+03:00", name: "Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰ Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ", en: "Eid al-Adha", emj: "ğŸ‘", dua: "Ø¹ÙŠØ¯ Ù…Ø¨Ø§Ø±Ùƒ ÙˆØ£ÙŠØ§Ù…ÙƒÙ… Ø³Ø¹ÙŠØ¯Ø©", msg: "ØªÙ‡Ù†Ø¦ Ù…Ù†ØµØ© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ø§Ù„Ø£Ù…Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ø¨Ù‚Ø¯ÙˆÙ… Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰ Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ ğŸ•‹", dAr: "10 Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø© 1447Ù‡Ù€ | 27 Ù…Ø§ÙŠÙˆ 2026Ù…", dEn: "Dhu al-Hijjah 10, 1447 | May 27, 2026" }
        };

        function updateTimers() {
            Object.keys(events).forEach(key => {
                const diff = new Date(events[key].date) - Date.now();
                if (diff > 0) {
                    document.getElementById(`d-${key}`).innerText = Math.floor(diff / 86400000);
                    document.getElementById(`h-${key}`).innerText = Math.floor((diff % 86400000) / 3600000);
                    document.getElementById(`m-${key}`).innerText = Math.floor((diff % 3600000) / 60000);
                    document.getElementById(`s-${key}`).innerText = Math.floor((diff % 60000) / 1000);
                }
            });
        }
        setInterval(updateTimers, 1000); updateTimers();

        // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¨ØµÙ…Øª Ø¯ÙˆÙ† Ø±Ø³Ø§Ø¦Ù„ ØªØ£ÙƒÙŠØ¯
        async function toggleNotify(key, el) {
            if (el.checked) {
                const perm = await Notification.requestPermission();
                if (perm === "granted") {
                    localStorage.setItem('notif_' + key, 'true');
                } else { 
                    el.checked = false; 
                    localStorage.setItem('notif_' + key, 'false');
                }
            } else { 
                localStorage.setItem('notif_' + key, 'false'); 
            }
        }

        async function shareEvent(key) {
            const ev = events[key];
            const isAr = document.getElementById('app-html').dir === "rtl";
            const d = document.getElementById(`d-${key}`).innerText;
            const h = document.getElementById(`h-${key}`).innerText;
            const text = `${ev.emj} Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù€ ${isAr ? ev.name : ev.en}:\nâ³ ${d} ÙŠÙˆÙ… Ùˆ ${h} Ø³Ø§Ø¹Ø©\nâœ¨ ${ev.dua}\n\nğŸ“ ØªØ§Ø¨Ø¹ Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø¹Ø¨Ø± Ø§Ù„Ø±Ø§Ø¨Ø·:\n${window.location.href}`;
            try {
                await navigator.clipboard.writeText(text);
                if (navigator.share) await navigator.share({ text });
                else alert(isAr ? "ØªÙ… Ù†Ø³Ø® Ù†Øµ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹! ğŸ“‹" : "Text copied automatically! ğŸ“‹");
            } catch (err) { if (navigator.share) await navigator.share({ text }); }
        }

        function toggleTheme() { document.body.classList.toggle('light-mode'); }

        function toggleLang() {
            const html = document.getElementById('app-html');
            const isAr = html.dir === "rtl";
            html.dir = isAr ? "ltr" : "rtl";
            html.lang = isAr ? "en" : "ar";
            document.getElementById('lang-btn').innerText = isAr ? "Ø¹Ø±Ø¨ÙŠ" : "English";
            document.getElementById('main-title-text').innerText = isAr ? "Residual" : "Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ";
            document.getElementById('site-title-tag').innerText = isAr ? "Residual" : "Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ";
            Object.keys(events).forEach((key, i) => {
                document.getElementById(`t-${key}`).innerText = isAr ? events[key].en : events[key].name;
                document.getElementById(`d-info${i+1}`).innerText = isAr ? events[key].dEn : events[key].dAr;
            });
            document.getElementById('ref-185').innerText = isAr ? "Surah Al-Baqarah - Ayah 185" : "Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 185";
            document.getElementById('ref-197').innerText = isAr ? "Surah Al-Baqarah - Ayah 197" : "Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø© - Ø¢ÙŠØ© 197";
            document.getElementById('f-rights').innerText = isAr ? "All rights reserved to Residual 1447 AH - 2026 AD" : "Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù„Ù…ØªØ¨Ù‚ÙŠ 1447 Ù‡Ù€ - 2026 Ù…";
            document.getElementById('f-dev').innerText = isAr ? "Contact Developer" : "Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø·ÙˆØ±";
            document.querySelectorAll('.lb-d').forEach(el => el.innerText = isAr ? "Days" : "ÙŠÙˆÙ…");
            document.querySelectorAll('.lb-h').forEach(el => el.innerText = isAr ? "Hrs" : "Ø³Ø§Ø¹Ø©");
            document.querySelectorAll('.lb-m').forEach(el => el.innerText = isAr ? "Min" : "Ø¯Ù‚ÙŠÙ‚Ø©");
            document.querySelectorAll('.lb-s').forEach(el => el.innerText = isAr ? "Sec" : "Ø«Ø§Ù†ÙŠØ©");
            document.querySelectorAll('.n-label').forEach(el => el.innerText = isAr ? "Enable Alert" : "ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡");
            document.querySelectorAll('.share-btn').forEach(el => el.innerText = isAr ? "Share" : "Ù…Ø´Ø§Ø±ÙƒØ©");
        }

        function checkPreNotif() {
            const today = new Date();
            Object.keys(events).forEach(key => {
                const preDay = new Date(events[key].date);
                preDay.setDate(preDay.getDate() - 1);
                if (today.toDateString() === preDay.toDateString() && localStorage.getItem('notif_'+key) === 'true' && !localStorage.getItem('sent_'+key)) {
                    new Notification("Residual", { body: events[key].msg, icon: "https://i.ibb.co/fzPfcMp0/small-logo.png" });
                    localStorage.setItem('sent_'+key, 'true');
                }
            });
        }
        setInterval(checkPreNotif, 3600000);

        window.onload = function() {
            // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø­Ø§Ù„Ø© Ù…ÙØ§ØªÙŠØ­ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
            Object.keys(events).forEach(key => {
                const savedStatus = localStorage.getItem('notif_' + key);
                if (savedStatus === 'true') {
                    const sw = document.getElementById('notif-sw-' + key);
                    if (sw) sw.checked = true;
                }
            });
            // Ø±Ø³Ø§Ù„Ø© Ø¥Ø±Ø´Ø§Ø¯ÙŠØ© Ù„Ù„ØªØ«Ø¨ÙŠØª (ØªØ¸Ù‡Ø± Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©)
            if (!window.navigator.standalone && !localStorage.getItem('pwa_tip')) {
                const isAr = document.getElementById('app-html').dir === "rtl";
                const msg = isAr ? "Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø©ØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ (Ù…Ø´Ø§Ø±ÙƒØ©) Ø«Ù… (Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©) ğŸ“²" : "For accurate alerts, tap (Share) then (Add to Home Screen) ğŸ“²";
                setTimeout(() => { alert(msg); localStorage.setItem('pwa_tip', 'true'); }, 3000);
            }
        };
    </script>
</body>
</html>
