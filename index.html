<!DOCTYPE html>
<html lang="ar" dir="rtl" id="main-html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ | Al-Mutabaqi</title>
  <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffd700">
    <link rel="apple-touch-icon" href="https://i.ibb.co/fYWfbWBQ/logo.png">
    <link rel="icon" type="image/png" href="https://i.ibb.co/fYWfbWBQ/logo.png">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root { --bg-body: #080c14; --bg-card: #1e293b; --text-main: #ffffff; --text-muted: #94a3b8; --accent: #ffd700; --box-bg: #0f172a; --blue-notif: #3b82f6; }
        [data-theme="light"] { --bg-body: #f8fafc; --bg-card: #ffffff; --text-main: #0f172a; --text-muted: #64748b; --accent: #10b981; --box-bg: #f1f5f9; --blue-notif: #2563eb; }
        body { background-color: var(--bg-body); color: var(--text-main); font-family: 'IBM Plex Sans Arabic', 'Inter', sans-serif; margin: 0; display: flex; flex-direction: column; align-items: center; padding: 20px; transition: 0.3s; min-height: 100vh; }
        .controls { position: fixed; top: 20px; left: 20px; display: flex; gap: 10px; z-index: 1000; }
        .btn-tool { background: var(--accent); color: #000; border: none; padding: 10px; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 0.8rem; }
        .main-logo { width: 150px; margin: 20px 0; }
        .card { background: var(--bg-card); border-radius: 20px; padding: 25px; margin-bottom: 20px; width: 100%; max-width: 450px; text-align: center; position: relative; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        .share-mini { position: absolute; top: 15px; left: 15px; background: rgba(255,255,255,0.05); border: 1px solid var(--accent); color: var(--accent); padding: 5px 8px; border-radius: 8px; cursor: pointer; font-size: 0.7rem; }
        html[dir="ltr"] .share-mini { left: auto; right: 15px; }
        .event-title { color: var(--accent); font-size: 1.4rem; font-weight: bold; }
        .timer-grid { display: flex; justify-content: space-between; gap: 8px; margin-top: 15px; }
        .box { background: var(--box-bg); padding: 10px 5px; border-radius: 12px; flex: 1; }
        .num { display: block; font-size: 1.4rem; color: var(--accent); font-weight: bold; }
        .label { font-size: 0.65rem; color: var(--text-muted); }
        .notify-row { margin-top: 20px; display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 0.85rem; color: var(--text-muted); border-top: 1px solid rgba(255,255,255,0.05); padding-top: 15px; }
        .switch { position: relative; display: inline-block; width: 34px; height: 20px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #475569; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 14px; width: 14px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--blue-notif); }
        input:checked + .slider:before { transform: translateX(14px); }
        .verse-box { background: var(--bg-card); padding: 25px; border-radius: 15px; max-width: 450px; text-align: center; line-height: 1.8; margin: 10px 0 30px 0; border: 1px solid rgba(255, 215, 0, 0.2); box-sizing: border-box; }
        .quran-text { display: block; font-size: 1.1rem; color: var(--accent); direction: rtl !important; margin-bottom: 15px; text-align: justify; }
        .translation-text { display: block; font-size: 0.9rem; color: var(--text-muted); font-style: italic; line-height: 1.5; margin-bottom: 10px; }
        .verse-ref { display: block; font-weight: bold; color: var(--text-muted); font-size: 0.8rem; }
        footer { margin-top: auto; padding: 40px 20px 20px; text-align: center; color: var(--text-muted); font-size: 0.8rem; line-height: 1.6; width: 100%; }
        footer b { color: var(--accent); }
    </style>
</head>
<body>

    <div class="controls">
        <button class="btn-tool" onclick="toggleTheme()" id="theme-btn">Ù†Ù…Ø·</button>
        <button class="btn-tool" onclick="toggleLang()" id="lang-btn">English</button>
    </div>
    
    <img src="https://i.ibb.co/fYWfbWBQ/logo.png" alt="Logo" class="main-logo">

    <div class="card">
        <button class="share-mini" onclick="doShare(0)" data-i18n="share">Ù…Ø´Ø§Ø±ÙƒØ©</button>
        <div class="event-title" data-i18n="ramadan-title"></div>
        <span style="font-size: 0.8rem; color: var(--text-muted);" data-i18n="ramadan-date"></span>
        <div class="timer-grid">
            <div class="box"><span class="num" id="d1">0</span><span class="label" data-i18n="days"></span></div>
            <div class="box"><span class="num" id="h1">0</span><span class="label" data-i18n="hours"></span></div>
            <div class="box"><span class="num" id="m1">0</span><span class="label" data-i18n="mins"></span></div>
            <div class="box"><span class="num" id="s1">0</span><span class="label" data-i18n="secs"></span></div>
        </div>
        <div class="notify-row">
            <span data-i18n="notify">ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</span>
            <label class="switch"><input type="checkbox" class="notif-check" id="notif-ramadan" onchange="handleToggle('ramadan', this)"><span class="slider"></span></label>
        </div>
    </div>

    <div class="card">
        <button class="share-mini" onclick="doShare(1)" data-i18n="share">Ù…Ø´Ø§Ø±ÙƒØ©</button>
        <div class="event-title" data-i18n="eid1-title"></div>
        <span style="font-size: 0.8rem; color: var(--text-muted);" data-i18n="eid1-date"></span>
        <div class="timer-grid">
            <div class="box"><span class="num" id="d2">0</span><span class="label" data-i18n="days"></span></div>
            <div class="box"><span class="num" id="h2">0</span><span class="label" data-i18n="hours"></span></div>
            <div class="box"><span class="num" id="m2">0</span><span class="label" data-i18n="mins"></span></div>
            <div class="box"><span class="num" id="s2">0</span><span class="label" data-i18n="secs"></span></div>
        </div>
        <div class="notify-row">
            <span data-i18n="notify">ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</span>
            <label class="switch"><input type="checkbox" class="notif-check" id="notif-eid1" onchange="handleToggle('eid1', this)"><span class="slider"></span></label>
        </div>
    </div>

    <div class="verse-box">
        <span class="quran-text">ï´¿Ø´ÙÙ‡Ù’Ø±Ù Ø±ÙÙ…ÙØ¶ÙØ§Ù†Ù Ø§Ù„Ù‘ÙØ°ÙÙŠ Ø£ÙÙ†Ø²ÙÙ„Ù ÙÙÙŠÙ‡Ù Ø§Ù„Ù’Ù‚ÙØ±Ù’Ø¢Ù†Ù Ù‡ÙØ¯Ù‹Ù‰ Ù„Ù‘ÙÙ„Ù†Ù‘ÙØ§Ø³Ù ÙˆÙØ¨ÙÙŠÙ‘ÙÙ†ÙØ§ØªÙ Ù…Ù‘ÙÙ†Ù Ø§Ù„Ù’Ù‡ÙØ¯ÙÙ‰Ù° ÙˆÙØ§Ù„Ù’ÙÙØ±Ù’Ù‚ÙØ§Ù†Ù Ûš ÙÙÙ…ÙÙ† Ø´ÙÙ‡ÙØ¯Ù Ù…ÙÙ†ÙƒÙÙ…Ù Ø§Ù„Ø´Ù‘ÙÙ‡Ù’Ø±Ù ÙÙÙ„Ù’ÙŠÙØµÙÙ…Ù’Ù‡Ù Û– ÙˆÙÙ…ÙÙ† ÙƒÙØ§Ù†Ù Ù…ÙØ±ÙÙŠØ¶Ù‹Ø§ Ø£ÙÙˆÙ’ Ø¹ÙÙ„ÙÙ‰Ù° Ø³ÙÙÙØ±Ù ÙÙØ¹ÙØ¯Ù‘ÙØ©ÙŒ Ù…Ù‘ÙÙ†Ù’ Ø£ÙÙŠÙ‘ÙØ§Ù…Ù Ø£ÙØ®ÙØ±Ù Û— ÙŠÙØ±ÙÙŠØ¯Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø¨ÙÙƒÙÙ…Ù Ø§Ù„Ù’ÙŠÙØ³Ù’Ø±Ù ÙˆÙÙ„ÙØ§ ÙŠÙØ±ÙÙŠØ¯Ù Ø¨ÙÙƒÙÙ…Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙˆÙÙ„ÙØªÙÙƒÙ’Ù…ÙÙ„ÙÙˆØ§ Ø§Ù„Ù’Ø¹ÙØ¯Ù‘ÙØ©Ù ÙˆÙÙ„ÙØªÙÙƒÙØ¨Ù‘ÙØ±ÙÙˆØ§ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø¹ÙÙ„ÙÙ‰Ù° Ù…ÙØ§ Ù‡ÙØ¯ÙØ§ÙƒÙÙ…Ù’ ÙˆÙÙ„ÙØ¹ÙÙ„Ù‘ÙÙƒÙÙ…Ù’ ØªÙØ´Ù’ÙƒÙØ±ÙÙˆÙ†Ùï´¾</span>
        <span id="trans-1" class="translation-text"></span>
        <span class="verse-ref" data-i18n="v1-ref"></span>
    </div>

    <div class="card">
        <button class="share-mini" onclick="doShare(2)" data-i18n="share">Ù…Ø´Ø§Ø±ÙƒØ©</button>
        <div class="event-title" data-i18n="hajj-title"></div>
        <span style="font-size: 0.8rem; color: var(--text-muted);" data-i18n="hajj-date"></span>
        <div class="timer-grid">
            <div class="box"><span class="num" id="d4">0</span><span class="label" data-i18n="days"></span></div>
            <div class="box"><span class="num" id="h4">0</span><span class="label" data-i18n="hours"></span></div>
            <div class="box"><span class="num" id="m4">0</span><span class="label" data-i18n="mins"></span></div>
            <div class="box"><span class="num" id="s4">0</span><span class="label" data-i18n="secs"></span></div>
        </div>
        <div class="notify-row">
            <span data-i18n="notify">ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</span>
            <label class="switch"><input type="checkbox" class="notif-check" id="notif-hajj" onchange="handleToggle('hajj', this)"><span class="slider"></span></label>
        </div>
    </div>

    <div class="card">
        <button class="share-mini" onclick="doShare(3)" data-i18n="share">Ù…Ø´Ø§Ø±ÙƒØ©</button>
        <div class="event-title" data-i18n="eid2-title"></div>
        <span style="font-size: 0.8rem; color: var(--text-muted);" data-i18n="eid2-date"></span>
        <div class="timer-grid">
            <div class="box"><span class="num" id="d3">0</span><span class="label" data-i18n="days"></span></div>
            <div class="box"><span class="num" id="h3">0</span><span class="label" data-i18n="hours"></span></div>
            <div class="box"><span class="num" id="m3">0</span><span class="label" data-i18n="mins"></span></div>
            <div class="box"><span class="num" id="s3">0</span><span class="label" data-i18n="secs"></span></div>
        </div>
        <div class="notify-row">
            <span data-i18n="notify">ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</span>
            <label class="switch"><input type="checkbox" class="notif-check" id="notif-eid2" onchange="handleToggle('eid2', this)"><span class="slider"></span></label>
        </div>
    </div>

    <div class="verse-box">
        <span class="quran-text">ï´¿Ø§Ù„Ù’Ø­ÙØ¬Ù‘Ù Ø£ÙØ´Ù’Ù‡ÙØ±ÙŒ Ù…Ù‘ÙØ¹Ù’Ù„ÙÙˆÙ…ÙØ§ØªÙŒ Ûš ÙÙÙ…ÙÙ† ÙÙØ±ÙØ¶Ù ÙÙÙŠÙ‡ÙÙ†Ù‘Ù Ø§Ù„Ù’Ø­ÙØ¬Ù‘Ù ÙÙÙ„ÙØ§ Ø±ÙÙÙØ«Ù ÙˆÙÙ„ÙØ§ ÙÙØ³ÙÙˆÙ‚Ù ÙˆÙÙ„ÙØ§ Ø¬ÙØ¯ÙØ§Ù„Ù ÙÙÙŠ Ø§Ù„Ù’Ø­ÙØ¬Ù‘Ù Û— ÙˆÙÙ…ÙØ§ ØªÙÙÙ’Ø¹ÙÙ„ÙÙˆØ§ Ù…ÙÙ†Ù’ Ø®ÙÙŠÙ’Ø±Ù ÙŠÙØ¹Ù’Ù„ÙÙ…Ù’Ù‡Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Û— ÙˆÙØªÙØ²ÙÙˆÙ‘ÙØ¯ÙÙˆØ§ ÙÙØ¥ÙÙ†Ù‘Ù Ø®ÙÙŠÙ’Ø±Ù Ø§Ù„Ø²Ù‘ÙØ§Ø¯Ù Ø§Ù„ØªÙ‘ÙÙ‚Ù’ÙˆÙÙ‰Ù° Ûš ÙˆÙØ§ØªÙ‘ÙÙ‚ÙÙˆÙ†Ù ÙŠÙØ§ Ø£ÙÙˆÙ„ÙÙŠ Ø§Ù„Ù’Ø£ÙÙ„Ù’Ø¨ÙØ§Ø¨Ùï´¾</span>
        <span id="trans-2" class="translation-text"></span>
        <span class="verse-ref" data-i18n="v2-ref"></span>
    </div>

    <footer>
        <p>*Ø­Ø³Ø¨ ØªÙˆÙ‚ÙŠØª Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©</p>
        <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù€ <b>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</b> 1447 Ù‡Ù€ - 2026 Ù…</p>
    </footer>

    <script>
        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù€ Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js').catch(err => console.log('SW Failed', err));
            });
        }

const i18n = {
    ar: {
        "share": "Ù…Ø´Ø§Ø±ÙƒØ©", "days": "ÙŠÙˆÙ…", "hours": "Ø³Ø§Ø¹Ø©", "mins": "Ø¯Ù‚ÙŠÙ‚Ø©", "secs": "Ø«Ø§Ù†ÙŠØ©",
        "notify": "ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª", "copy-msg": "ØªÙ… Ù†Ø³Ø® Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­!",
        "ramadan-title": "Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ", "ramadan-date": "Ø±Ù…Ø¶Ø§Ù† 1447 Ù‡Ù€ | 18 ÙØ¨Ø±Ø§ÙŠØ± 2026 Ù…",
        "eid1-title": "Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø± Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ", "eid1-date": "Ø´ÙˆØ§Ù„ 1447 Ù‡Ù€ | 20 Ù…Ø§Ø±Ø³ 2026 Ù…",
        "hajj-title": "Ø¹Ø´Ø± Ø°ÙŠ Ø§Ù„Ø­Ø¬Ø©", "hajj-date": "Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø© 1447 Ù‡Ù€ | 18 Ù…Ø§ÙŠÙˆ 2026 Ù…",
        "eid2-title": "Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰ Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ", "eid2-date": "Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø© 1447 Ù‡Ù€ | 27 Ù…Ø§ÙŠÙˆ 2026 Ù…",
        "v1-ref": "[Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©: Ù¡Ù¨Ù¥]", "v2-ref": "[Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©: Ù¡Ù©Ù§]",
        "notif-msg": "Ø³ÙŠØµÙ„Ùƒ ØªÙ†Ø¨ÙŠÙ‡ Ø¹Ù†Ø¯ Ø§Ù‚ØªØ±Ø§Ø¨ Ø§Ù„Ù…ÙˆØ¹Ø¯! ğŸ””", "lang-btn": "English", "theme-btn": "Ù†Ù…Ø·",
        "rem": "Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù€", "link": "Ø±Ø§Ø¨Ø· Ø§Ù„Ø¹Ø¯Ø§Ø¯",
        "prays": [
            "Ø§Ù„Ù„Ù‡Ù… Ø¨Ù„ØºÙ†Ø§ Ø§Ù„ØµÙŠØ§Ù… ÙˆØ§Ù„Ù‚ÙŠØ§Ù… ÙˆØµØ§Ù„Ø­ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ğŸŒ™",
            "Ø¬Ø¹Ù„ Ø§Ù„Ù„Ù‡ Ø¹ÙŠØ¯ÙƒÙ… ÙØ±Ø­Ø© Ø¨Ø£Ø¹Ù…Ø§Ù„ Ù‚ÙØ¨Ù„ØªØŒ ÙˆØ°Ù†ÙˆØ¨ Ù…ÙØ­ÙŠØªØŒ ÙˆØ¯Ø±Ø¬Ø§Øª Ø±ÙÙØ¹Øª.. ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ£Ù†ØªÙ… Ø¨Ø®ÙŠØ± âœ¨",
            "Ø§Ù„Ù„Ù‡Ù… Ø¨Ø§Ø±Ùƒ Ù„Ù†Ø§ ÙÙŠ Ø¹Ø´Ø± Ø°ÙŠ Ø§Ù„Ø­Ø¬Ø©ØŒ ÙˆØ§Ø¬Ø¹Ù„ Ù„Ù†Ø§ Ù†ØµÙŠØ¨Ø§Ù‹ ÙÙŠ ÙƒÙ„ Ø®ÙŠØ± ØªÙ‚Ø³Ù…Ù‡ØŒ ÙˆÙÙŠ ÙƒÙ„ Ø±Ø²Ù‚ ØªØ¨Ø³Ø·Ù‡ØŒ ÙˆÙÙŠ ÙƒÙ„ Ù‡Ù… ØªÙØ±Ø¬Ù‡ ğŸ™Œ",
            "Ø¹Ø§Ø¯ Ø¹ÙŠØ¯ÙƒÙ…ØŒ ØªÙ‚Ø¨Ù„ Ø§Ù„Ù„Ù‡ Ù…Ù†Ø§ ÙˆÙ…Ù†ÙƒÙ… ğŸ‘"
        ]
    },
    en: {
        "share": "Share", "days": "Days", "hours": "Hrs", "mins": "Min", "secs": "Sec",
        "notify": "Notify", "copy-msg": "Copied!",
        "ramadan-title": "Holy Ramadan", "ramadan-date": "Feb 18, 2026",
        "eid1-title": "Eid Al-Fitr", "eid1-date": "Mar 20, 2026",
        "hajj-title": "10 Days of Hajj", "hajj-date": "May 18, 2026",
        "eid2-title": "Eid Al-Adha", "eid2-date": "May 27, 2026",
        "v1-ref": "[Al-Baqarah: 185]", "v2-ref": "[Al-Baqarah: 197]",
        "trans-1": "The month of Ramadan in which was revealed the Quran.",
        "trans-2": "Hajj is in the well-known months.",
        "notif-msg": "Notification activated! ğŸ””", "lang-btn": "Ø¹Ø±Ø¨ÙŠ", "theme-btn": "Theme",
        "rem": "Remaining for", "link": "Link",
        "prays": [
            "May Allah let us reach Ramadan. ğŸŒ™",
            "Happy Eid! âœ¨",
            "Best days of the world. ğŸ™Œ",
            "Eid Mubarak. ğŸ‘"
        ]
    }
};


        let currentLang = localStorage.getItem('lang') || 'ar';

        function updateUI() {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                el.innerText = i18n[currentLang][el.getAttribute('data-i18n')];
            });
            document.getElementById('trans-1').innerText = currentLang === 'en' ? i18n.en["trans-1"] : "";
            document.getElementById('trans-2').innerText = currentLang === 'en' ? i18n.en["trans-2"] : "";
            document.getElementById('main-html').dir = currentLang === 'ar' ? 'rtl' : 'ltr';
            ['ramadan', 'eid1', 'hajj', 'eid2'].forEach(key => {
                document.getElementById('notif-' + key).checked = localStorage.getItem('notif_' + key) === 'true';
            });
        }

        function handleToggle(key, el) {
            if(el.checked) {
                Notification.requestPermission().then(p => {
                    if(p === 'granted') {
                        localStorage.setItem('notif_' + key, 'true');
                        navigator.serviceWorker.ready.then(reg => {
                            reg.showNotification(i18n[currentLang][key + '-title'], {
                                body: i18n[currentLang]['notif-msg'],
                                icon: 'https://i.ibb.co/fYWfbWBQ/logo.png'
                            });
                        });
                    } else { el.checked = false; alert("ÙŠØ±Ø¬Ù‰ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø°Ù†"); }
                });
            } else localStorage.setItem('notif_' + key, 'false');
        }

function doShare(idx) {
    const ids = ["1", "2", "4", "3"];
    const eventName = i18n[currentLang][(idx==0?'ramadan':idx==1?'eid1':idx==2?'hajj':'eid2')+'-title'];
    const d = document.getElementById('d' + ids[idx]).innerText;
    const h = document.getElementById('h' + ids[idx]).innerText;
    const pray = i18n[currentLang]['prays'][idx]; // Ø³Ø­Ø¨ Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
    
    const msg = `âŒ› ${i18n[currentLang].rem} ${eventName}:\nğŸ—“ï¸ ${d} ${i18n[currentLang].days} Ùˆ ${h} ${i18n[currentLang].hours}\n\nâœ¨ ${pray}\n\nğŸ“ ${i18n[currentLang].link}:\n${window.location.href}`;
    
    if (navigator.share) {
        navigator.share({ text: msg });
    } else {
        copyToClipboard(msg);
    }
}

            }
        }

        function toggleLang() { currentLang = (currentLang === 'ar' ? 'en' : 'ar'); localStorage.setItem('lang', currentLang); updateUI(); }
        function toggleTheme() { document.body.toggleAttribute('data-theme'); localStorage.setItem('theme', document.body.hasAttribute('data-theme') ? 'light' : 'dark'); }

        function update(id, targetDateStr) {
            const target = new Date(targetDateStr);
            const now = new Date();
            const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
            const makkahNow = new Date(utc + (3600000 * 3));
            const diff = target - makkahNow;

            if (diff > 0) {
                document.getElementById('d'+id).innerText = Math.floor(diff / 86400000);
                document.getElementById('h'+id).innerText = Math.floor((diff % 86400000) / 3600000);
                document.getElementById('m'+id).innerText = Math.floor((diff % 3600000) / 60000);
                document.getElementById('s'+id).innerText = Math.floor((diff % 60000) / 1000);
            }
        }

        setInterval(() => {
            update('1', "2026-02-18T18:30:00"); update('2', "2026-03-20T18:30:00");
            update('3', "2026-05-27T18:30:00"); update('4', "2026-05-18T18:30:00");
        }, 1000);

        window.onload = () => {
            updateUI();
            if(localStorage.getItem('theme') === 'light') document.body.setAttribute('data-theme', 'light');
        };
    </script>
</body>
</html>
