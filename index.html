<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ">
    <link rel="apple-touch-icon" href="https://i.ibb.co/fYWfbWBQ/logo.png">
    <link rel="icon" type="image/png" href="https://i.ibb.co/fYWfbWBQ/logo.png">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-body: #080c14; --bg-card: #1e293b; --text-main: #ffffff;
            --text-muted: #94a3b8; --accent: #ffd700; --box-bg: #0f172a;
        }
        [data-theme="light"] {
            --bg-body: #f8fafc; --bg-card: #ffffff; --text-main: #0f172a;
            --text-muted: #64748b; --accent: #10b981; --box-bg: #f1f5f9;
        }
        body {
            background-color: var(--bg-body); color: var(--text-main);
            font-family: 'IBM Plex Sans Arabic', sans-serif; margin: 0;
            transition: all 0.3s ease; display: flex; flex-direction: column;
            align-items: center; padding: 20px;
        }
        .theme-switch {
            position: fixed; top: 20px; left: 20px; background: var(--accent);
            color: #000; border: none; width: 45px; height: 45px; border-radius: 50%;
            cursor: pointer; z-index: 1000; font-weight: bold; font-size: 0.8rem;
        }
        .logo-container { margin: 20px 0; text-align: center; }
        .main-logo { width: 180px; height: auto; filter: drop-shadow(0 0 10px rgba(255,255,255,0.1)); }
        
        .card {
            background: var(--bg-card); border-radius: 20px; padding: 25px;
            margin-bottom: 20px; width: 100%; max-width: 450px;
            text-align: center; box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            position: relative;
        }

        .share-mini {
            position: absolute; top: 20px; left: 20px; background: rgba(255,255,255,0.05);
            border: 1px solid var(--accent); color: var(--accent); padding: 5px 10px;
            border-radius: 10px; cursor: pointer; font-size: 0.75rem; display: flex;
            align-items: center; gap: 5px; transition: 0.3s;
        }
        .share-mini:hover { background: var(--accent); color: #000; }

        .event-title { color: var(--accent); font-size: 1.5rem; font-weight: bold; margin-bottom: 5px; }
        .event-date { color: var(--text-muted); font-size: 0.85rem; margin-bottom: 15px; display: block; }
        .timer-grid { display: flex; justify-content: space-between; gap: 8px; }
        .box { background: var(--box-bg); padding: 12px 5px; border-radius: 12px; flex: 1; }
        .num { display: block; font-size: 1.5rem; color: var(--accent); font-weight: bold; }
        .label { font-size: 0.7rem; color: var(--text-muted); }
        
        .toggle-section {
            display: flex; align-items: center; justify-content: center;
            margin-top: 20px; gap: 10px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.05);
        }
        .switch { position: relative; display: inline-block; width: 40px; height: 20px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
            background-color: #475569; transition: .4s; border-radius: 34px;
        }
        .slider:before {
            position: absolute; content: ""; height: 14px; width: 14px; left: 3px; bottom: 3px;
            background-color: white; transition: .4s; border-radius: 50%;
        }
        input:checked + .slider { background-color: #10b981; }
        input:checked + .slider:before { transform: translateX(20px); }
        
        .verse-box {
            background: var(--bg-card); padding: 25px; border-radius: 15px;
            max-width: 550px; text-align: center; line-height: 1.8;
            font-size: 1.05rem; margin-top: 20px; border-right: 4px solid var(--accent);
        }
        .verse-ref { display: block; margin-top: 10px; font-weight: bold; color: var(--accent); font-size: 0.8rem; }
        
        #pwa-prompt {
            position: fixed; bottom: 20px; background: var(--accent); color: #000;
            padding: 15px; border-radius: 15px; width: 90%; max-width: 400px;
            display: none; justify-content: space-between; align-items: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3); z-index: 2000; font-weight: bold;
        }
        #pwa-prompt button { background: #000; color: #fff; border: none; padding: 5px 15px; border-radius: 8px; cursor: pointer; }
    </style>
</head>
<body>

    <div id="pwa-prompt">
        <span>Ø£Ø¶Ù "Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ" Ù„Ø´Ø§Ø´ØªÙƒ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        <button onclick="closePrompt()">Ø­Ø³Ù†Ø§Ù‹</button>
    </div>

    <button class="theme-switch" onclick="toggleTheme()">Ù†Ù…Ø·</button>
    
    <div class="logo-container">
        <img src="https://i.ibb.co/fYWfbWBQ/logo.png" alt="Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ" class="main-logo">
    </div>

    <div class="card">
        <button class="share-mini" onclick="shareSpecific('Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ', '1', 'Ø¨Ù„ØºÙ†Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ¥ÙŠØ§ÙƒÙ… Ø´Ù‡Ø± Ø§Ù„ØµÙŠØ§Ù… ÙˆÙ†Ø­Ù† ÙÙŠ Ø£Ø­Ø³Ù† Ø­Ø§Ù„.')">Ù…Ø´Ø§Ø±ÙƒØ©</button>
        <div class="event-title">Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ</div>
        <span class="event-date">1 Ø±Ù…Ø¶Ø§Ù† 1447 Ù‡Ù€ | 18 ÙØ¨Ø±Ø§ÙŠØ± 2026 Ù…</span>
        <div class="timer-grid">
            <div class="box"><span class="num" id="d1">0</span><span class="label">ÙŠÙˆÙ…</span></div>
            <div class="box"><span class="num" id="h1">0</span><span class="label">Ø³Ø§Ø¹Ø©</span></div>
            <div class="box"><span class="num" id="m1">0</span><span class="label">Ø¯Ù‚ÙŠÙ‚Ø©</span></div>
            <div class="box"><span class="num" id="s1">0</span><span class="label">Ø«Ø§Ù†ÙŠØ©</span></div>
        </div>
        <div class="toggle-section">
            <span>ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</span>
            <label class="switch"><input type="checkbox" id="notify-1" onchange="handleNotify('1', 'Ø±Ù…Ø¶Ø§Ù†', this)"><span class="slider"></span></label>
        </div>
    </div>

    <div class="card">
        <button class="share-mini" onclick="shareSpecific('Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø±', '2', 'ØªÙ‚Ø¨Ù„ Ø§Ù„Ù„Ù‡ Ù…Ù†Ø§ ÙˆÙ…Ù†ÙƒÙ… ØµØ§Ù„Ø­ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ÙˆØ¹Ø³Ø§ÙƒÙ… Ù…Ù† Ø¹ÙˆØ§Ø¯Ù‡.')">Ù…Ø´Ø§Ø±ÙƒØ©</button>
        <div class="event-title">Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø± Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ</div>
        <span class="event-date">1 Ø´ÙˆØ§Ù„ 1447 Ù‡Ù€ | 20 Ù…Ø§Ø±Ø³ 2026 Ù…</span>
        <div class="timer-grid">
            <div class="box"><span class="num" id="d2">0</span><span class="label">ÙŠÙˆÙ…</span></div>
            <div class="box"><span class="num" id="h2">0</span><span class="label">Ø³Ø§Ø¹Ø©</span></div>
            <div class="box"><span class="num" id="m2">0</span><span class="label">Ø¯Ù‚ÙŠÙ‚Ø©</span></div>
            <div class="box"><span class="num" id="s2">0</span><span class="label">Ø«Ø§Ù†ÙŠØ©</span></div>
        </div>
        <div class="toggle-section">
            <span>ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</span>
            <label class="switch"><input type="checkbox" id="notify-2" onchange="handleNotify('2', 'Ø¹ÙŠØ¯ Ø§Ù„ÙØ·Ø±', this)"><span class="slider"></span></label>
        </div>
    </div>

    <div class="verse-box">
        ï´¿Ø´ÙÙ‡Ø±Ù Ø±ÙÙ…ÙØ¶Ø§Ù†Ù Ø§Ù„Ù‘ÙØ°ÙŠ Ø£ÙÙ†Ø²ÙÙ„Ù ÙÙŠÙ‡Ù Ø§Ù„Ù‚ÙØ±Ø¢Ù†Ù Ù‡ÙØ¯Ù‹Ù‰ Ù„ÙÙ„Ù†Ù‘Ø§Ø³Ù ÙˆÙØ¨ÙÙŠÙ‘ÙÙ†Ø§ØªÙ Ù…ÙÙ†Ù Ø§Ù„Ù‡ÙØ¯Ù‰ ÙˆÙØ§Ù„ÙÙØ±Ù‚Ø§Ù†Ùï´¾
        <span class="verse-ref">[Ø§Ù„Ø¨Ù‚Ø±Ø©: Ù¡Ù¨Ù¥]</span>
    </div>

    <hr style="width: 80%; opacity: 0.1; margin: 30px 0;">

    <div class="card">
        <button class="share-mini" onclick="shareSpecific('Ø¹Ø´Ø± Ø°ÙŠ Ø§Ù„Ø­Ø¬Ø©', '4', 'Ø®ÙŠØ± Ø£ÙŠØ§Ù… Ø§Ù„Ø¯Ù†ÙŠØ§.. Ø£Ø¹Ø§Ù†Ù†Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ¥ÙŠØ§ÙƒÙ… ÙÙŠÙ‡Ø§ Ø¹Ù„Ù‰ Ø°ÙƒØ±Ù‡ ÙˆØ´ÙƒØ±Ù‡ ÙˆØ­Ø³Ù† Ø¹Ø¨Ø§Ø¯ØªÙ‡.')">Ù…Ø´Ø§Ø±ÙƒØ©</button>
        <div class="event-title">Ø¹Ø´Ø± Ø°ÙŠ Ø§Ù„Ø­Ø¬Ø©</div>
        <span class="event-date">1 Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø© 1447 Ù‡Ù€ | 18 Ù…Ø§ÙŠÙˆ 2026 Ù…</span>
        <div class="timer-grid">
            <div class="box"><span class="num" id="d4">0</span><span class="label">ÙŠÙˆÙ…</span></div>
            <div class="box"><span class="num" id="h4">0</span><span class="label">Ø³Ø§Ø¹Ø©</span></div>
            <div class="box"><span class="num" id="m4">0</span><span class="label">Ø¯Ù‚ÙŠÙ‚Ø©</span></div>
            <div class="box"><span class="num" id="s4">0</span><span class="label">Ø«Ø§Ù†ÙŠØ©</span></div>
        </div>
        <div class="toggle-section">
            <span>ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</span>
            <label class="switch"><input type="checkbox" id="notify-4" onchange="handleNotify('4', 'Ø¹Ø´Ø± Ø°ÙŠ Ø§Ù„Ø­Ø¬Ø©', this)"><span class="slider"></span></label>
        </div>
    </div>

    <div class="card">
        <button class="share-mini" onclick="shareSpecific('Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰', '3', 'Ø¹ÙŠØ¯ÙƒÙ… Ù…Ø¨Ø§Ø±ÙƒØŒ ÙˆØªÙ‚Ø¨Ù„ Ø§Ù„Ù„Ù‡ Ø·Ø§Ø¹Ø§ØªÙƒÙ… ÙˆØ£ØªÙ… Ø¹Ù„ÙŠÙƒÙ… ÙØ±Ø­ØªÙƒÙ….')">Ù…Ø´Ø§Ø±ÙƒØ©</button>
        <div class="event-title">Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰ Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ</div>
        <span class="event-date">10 Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø© 1447 Ù‡Ù€ | 27 Ù…Ø§ÙŠÙˆ 2026 Ù…</span>
        <div class="timer-grid">
            <div class="box"><span class="num" id="d3">0</span><span class="label">ÙŠÙˆÙ…</span></div>
            <div class="box"><span class="num" id="h3">0</span><span class="label">Ø³Ø§Ø¹Ø©</span></div>
            <div class="box"><span class="num" id="m3">0</span><span class="label">Ø¯Ù‚ÙŠÙ‚Ø©</span></div>
            <div class="box"><span class="num" id="s3">0</span><span class="label">Ø«Ø§Ù†ÙŠØ©</span></div>
        </div>
        <div class="toggle-section">
            <span>ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</span>
            <label class="switch"><input type="checkbox" id="notify-3" onchange="handleNotify('3', 'Ø¹ÙŠØ¯ Ø§Ù„Ø£Ø¶Ø­Ù‰', this)"><span class="slider"></span></label>
        </div>
    </div>

    <script>
        window.onload = function() {
            const promptClosed = localStorage.getItem('pwaPromptClosed');
            if (!promptClosed) {
                setTimeout(() => { document.getElementById('pwa-prompt').style.display = 'flex'; }, 3000);
            }
            for(let i=1; i<=4; i++) {
                const status = localStorage.getItem('notify-' + i);
                if(status === 'active') document.getElementById('notify-' + i).checked = true;
            }
            if(localStorage.getItem('theme') === 'light') document.body.setAttribute('data-theme', 'light');
        }

        async function shareSpecific(name, id, prayer) {
            const days = document.getElementById('d'+id).innerText;
            const hours = document.getElementById('h'+id).innerText;
            const message = `ğŸŒ™ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù€ ${name}:\nâ³ ${days} ÙŠÙˆÙ… Ùˆ ${hours} Ø³Ø§Ø¹Ø©\n\nâœ¨ ${prayer}\n\nğŸ“ ØªØ§Ø¨Ø¹ Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ø¨Ø± ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ:\n${window.location.href}`;
            
            if (navigator.share && /Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                try { await navigator.share({ title: 'ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ', text: message }); } 
                catch (err) { copyToClipboard(message, name); }
            } else {
                copyToClipboard(message, name);
            }
        }

        function copyToClipboard(text, name) {
            const el = document.createElement('textarea');
            el.value = text;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            alert('ØªÙ… Ù†Ø³Ø® ØªÙØ§ØµÙŠÙ„ ' + name + ' Ø¨Ù†Ø¬Ø§Ø­! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ù„ØµÙ‚Ù‡Ø§ (Paste) ÙÙŠ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ø£Ùˆ Ø£ÙŠ Ù…ÙƒØ§Ù† Ø¢Ø®Ø±.');
        }

        function closePrompt() { 
            document.getElementById('pwa-prompt').style.display = 'none'; 
            localStorage.setItem('pwaPromptClosed', 'true');
        }

        function toggleTheme() {
            if(document.body.hasAttribute('data-theme')) {
                document.body.removeAttribute('data-theme');
                localStorage.setItem('theme', 'dark');
            } else {
                document.body.setAttribute('data-theme', 'light');
                localStorage.setItem('theme', 'light');
            }
        }

        function handleNotify(id, name, checkbox) {
            if (checkbox.checked) {
                Notification.requestPermission().then(permission => {
                    if (permission === "granted") {
                        localStorage.setItem('notify-' + id, 'active');
                        alert("ØªÙ… ØªÙØ¹ÙŠÙ„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª " + name);
                    } else {
                        alert("ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª");
                        checkbox.checked = false;
                    }
                });
            } else {
                localStorage.removeItem('notify-' + id);
            }
        }

        function update(id, date) {
            const diff = new Date(date).getTime() - new Date().getTime();
            if (diff > 0) {
                document.getElementById('d'+id).innerText = Math.floor(diff / 86400000);
                document.getElementById('h'+id).innerText = Math.floor((diff % 86400000) / 3600000);
                document.getElementById('m'+id).innerText = Math.floor((diff % 3600000) / 60000);
                document.getElementById('s'+id).innerText = Math.floor((diff % 60000) / 1000);
            }
        }

        setInterval(() => {
            update('1', "2026-02-18T00:00:00"); update('2', "2026-03-20T00:00:00");
            update('3', "2026-05-27T00:00:00"); update('4', "2026-05-18T00:00:00");
        }, 1000);
    </script>
</body>
</html>
